# Lychee link checker configuration
# https://lychee.cli.rs/usage/config/

# Skip fragment/anchor checking (Docusaurus generates dynamic IDs)
include_fragments = false

# Timeout and retry settings
timeout = 20
max_retries = 3
retry_wait_time = 2

# Accept these HTTP status codes as "OK"
# 429 = rate limited (GitHub, JetBrains) — not a real broken link
accept = [200, 303, 429]

# Skip these URLs (crawlers blocked or known false positives)
exclude = [
  # Twitter/X blocks automated crawlers
  "https://x.com/.*",
  "https://twitter.com/.*",
  # LinkedIn blocks automated crawlers
  "https://www.linkedin.com/.*",
  # localhost / local dev URLs
  "^http://localhost",
  # Ignore mailto links
  "^mailto:",
  # Docusaurus internal .md links — resolved incorrectly by lychee against --base.
  # These relative links are validated by Docusaurus build, not lychee.
  "https://genie\\.devoxx\\.com/.*\\.md",
  # Static images served by Docusaurus — not present on the live site at these paths.
  "https://genie\\.devoxx\\.com/static/img/.*",
  # Placeholder/example URLs used in documentation snippets.
  "https://github\\.com/myproject/.*",
]

# GitHub token is passed via GITHUB_TOKEN env var (set by lychee-action)
